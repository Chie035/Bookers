<div class="message-box">
  <%= flash[:success] %>
</div>

<h1 class="i-heading">Books</h1>

<table class="book-table">
  <thead>
    <th>Title</th>
    <th>Body</th>
    <th colspan="3"></th>
  </thead>
  <tbody>
    <% @books.each do |book| %>
    <tr>
    <td><%= book.title %></td>
    <td><%= book.body %></td>
    <td><%= link_to "show", book_path(book.id) %></td>
    <td><%= link_to "edit", edit_book_path(book.id) %></td>
    <td><%= link_to "destroy", book_path(book.id), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
    <% end %>
    </tr>
  </tbody>
</table>


<h2 class="new-heading">New Book</h2>

<% if @book.errors.any? %>
<div class="alert-box">
  <h2 class="alert-heading">There are some errors</h2>
  <ul class="alets">
  <% @book.errors.full_messages.each do |message| %>
    <li class="alert-message"><%= message %></li>
  <% end %>
  </ul>
</div>
<% end %>

<div class="new-form">
<%= form_with model:@book, local:true do |f| %>
<p>Title</p>
<%= f.text_field :title %>
<p>Body</p>
<%= f.text_area :body %>
<div class="btn-create">
<%= f.submit "Create Book" %>
</div>

<% end %>
</div>
